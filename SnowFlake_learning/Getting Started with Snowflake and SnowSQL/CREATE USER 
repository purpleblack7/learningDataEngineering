CREATE USER reportingapp PASSWORD = '123456789' COMMENT = 'User for Reporting Apps' DEFAULT_WAREHOUSE = 'COMPUTE_WH' DEFAULT_NAMESPACE = 'REVIEWS' MUST_CHANGE_PASSWORD = FALSE; # You must set the role as ACCOUNTADMIN. The role will be on the same line as Run is

CREATE ROLE "REVIEWREADER"; #Creating a Role
 
 GRANT USAGE ON WAREHOUSE COMPUTE_WH TO ROLE REVIEWREADER; #Granting access to resources
 GRANT USAGE ON DATABASE REVIEWS TO ROLE REVIEWREADER;
 GRANT USAGE ON SCHEMA REVIEWS.PUBLIC TO ROLE REVIEWREADER;
 GRANT SELECT ON ALL TABLES IN SCHEMA REVIEWS.PUBLIC TO ROLE REVIEWREADER;
 GRANT SELECT ON ALL VIEWS IN SCHEMA REVIEWS.PUBLIC TO ROLE REVIEWREADER;
 GRANT SELECT ON FUTURE TABLES IN SCHEMA REVIEWS.PUBLIC TO ROLE REVIEWREADER; #Note that you must specify access to tables and views created in the future
 GRANT SELECT ON FUTURE VIEWS IN SCHEMA REVIEWS.PUBLIC TO ROLE REVIEWREADER;
 
 GRANT ROLE REVIEWREADER TO USER reportingapp; #Granting role to user
  
  
ALTER USER reportingapp SET DEFAULT_ROLE = 'REVIEWREADER'; #Setting the default role

SHOW GRANTS TO ROLE REVIEWREADER;
SHOW GRANTS OF ROLE REVIEWREADER; #Showing grants